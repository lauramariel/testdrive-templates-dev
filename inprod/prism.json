{
    "resource_specs": {
        "cluster" : {
            "cluster_min_nodes": 1,
            "type": "$NOS_CLUSTER",
            "zone": "us-west1-c",
			"region": "us-west1",
            "is_new": true,
            "software": {
                "nos": {
                    "version": "euphrates-5-11-stable",
                    "build_type": "opt",
                    "build_url": "http://endor.dyn.nutanix.com/builds/nos-builds/master/1ce0a2fb9acdf27a89847662c5c0a42a395db41f/opt/tar/nutanix_installer_package-opt-master-1ce0a2fb9acdf27a89847662c5c0a42a395db41f.tar.gz",
                    "commit": "7d9581"
                },
                "hypervisor": {
                    "build_url": "http://endor.dyn.nutanix.com/builds/ahv-builds/20180802.100871/host-bundle-el6.nutanix.20180802.100871.tar.gz",
                    "type": "kvm"
                }
            },
            "hardware": {
                "svm_gb_ram": 24,
                "min_host_gb_ram": 24,
                "min_ssd_count": 1,
                "cluster_min_nodes": 1,
                "min_host_cpu_count": 20,
                "svm_num_vcpus": 20
            },
            "provider": {
                "host": "network"
            },
            "dependencies": [
                "network"
            ]
        },
        "network": {
            "type": "$NETWORK",
            "is_new": true,
            "region": "us-west1"
        },
        "managednetwork" : {
            "type": "$MANAGED_NETWORK",
            "is_new": true,
            "zone": "us-west1-c",
			"region": "us-west1",
            "networks": [
                {
                    "cidr": "$AUTO",
                    "mtu": 1500,
                    "vlan_id": 1,
                    "name": "default",
                    "virtual_ip": true,
                    "internet_fowarding": false,
                    "subnet_forwarding" : {
                        "resources": [
                            "network"
                        ]
                    }
                }
            ],
            "dependencies": [
                "cluster",
                "network"
            ]
        },
        "tdaas_pc" : {
            "type": "$PRISM_CENTRAL",
            "zone": "us-west1-c",
			"region": "us-west1",
            "is_new": true,
            "software": {
                "prism_central": {
                    "build_url": "pc-upgrade-tars/nutanix_installer_package_pc-release-euphrates-5.11-stable-7d9581dabffc9bf074def3950d29841cfc0dce71.tar.gz"
                }
            },
            "hardware": {
                "min_vcpus": 20,
                "min_ram": 24
            },
            "provider": {
                "host": "network"
            },
            "dependencies": [
                "network"
            ]
        },
        "pc_reset_password": {
            "type": "$POST_DEPLOYMENT",
            "kind": "$RESET_PRISM_PASS",
            "dependencies": [
                "tdaas_pc",
                "pcpe"
            ],
            "kwargs": {
                "target": {
                    "res_name":  "tdaas_pc"
                }
            }
        },
        "generate_alert_fw" : {
            "name": "firewall",
            "is_new": true,
            "type": "$FIREWALL",
            "dependencies": [
                "network"
            ],
            "target_ports": [
                "22"
            ],
            "source_ip_ranges": [
                "34.82.5.235",
                "34.83.109.187",
                "35.199.187.100",
                "34.82.32.141",
                "34.82.179.234",
                "34.83.109.39",
                "35.227.178.189",
                "35.233.138.162",
                "35.247.52.234"
            ]
        },
        "pcpe" : {
            "type": "$REGISTER_PE_PC",
            "dependencies": [
                "cluster",
                "tdaas_pc"
            ]
        },
        "prismpro" : {
            "type": "$POST_DEPLOYMENT",
            "kind": "$PRISM_PRO",
            "zone": "us-west1-c",
			"region": "us-west1",
            "is_new": true,
            "dependencies": [
                "managednetwork",
                "cluster",
                "network",
                "tdaas_pc"
            ],
            "image_spec": {
                "image_name": "PrismPro",
                "source_url": "https://s3.amazonaws.com/get-ahv-images/PrismProLabUtilityServer.qcow2"
            },
            "vm_spec": {
                "vm_name": "PrismPro",
                "num_vcpus": "2",
                "num_cores_per_vcpu": "1",
                "memory": "2G"
            },
            "network_spec": {
                "network_name": "default"
            }
        }
    },
    "metadata": {
        "name": "prism-pro",
        "projects": [
            "nx-on-gcp-playground"
        ],
        "duration": 24,
        "timezone": "Asia/Calcutta"
    }
}
